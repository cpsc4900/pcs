<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Patient Care System: control/handle_activity_log.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Patient Care System
   </div>
   <div id="projectbrief">CPSC4900 Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_56ea320f36428fc096e6ea8f45d8dae0.html">control</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">handle_activity_log.php File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3bb79b6acd51d8001ecfd557799c83aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handle__activity__log_8php.html#a3bb79b6acd51d8001ecfd557799c83aa">update_activity_log</a> ($activityType, $empID, $recID=0)</td></tr>
<tr class="separator:a3bb79b6acd51d8001ecfd557799c83aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebdcbbcd60209ede1b77fbbface3fec1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aebdcbbcd60209ede1b77fbbface3fec1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gen_activity_pat_new_rec_query</b> ($empID, $primRecID)</td></tr>
<tr class="separator:aebdcbbcd60209ede1b77fbbface3fec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6699fc94168c0df540182f97ff6dd48e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6699fc94168c0df540182f97ff6dd48e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gen_activity_pat_edit_rec_query</b> ($empID, $primRecID)</td></tr>
<tr class="separator:a6699fc94168c0df540182f97ff6dd48e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c302941777c6678840bc88431474877"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c302941777c6678840bc88431474877"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gen_activity_allergy_edit_query</b> ($empID, $allergyID)</td></tr>
<tr class="separator:a1c302941777c6678840bc88431474877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49b407f45fdbc26675b9534a62a6bb49"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a49b407f45fdbc26675b9534a62a6bb49"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gen_activity_new_allergy_query</b> ($empID, $allergyID)</td></tr>
<tr class="separator:a49b407f45fdbc26675b9534a62a6bb49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b8e4fec0508102ba4a76bb9bb1db70"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22b8e4fec0508102ba4a76bb9bb1db70"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gen_activity_user_login_query</b> ($empID)</td></tr>
<tr class="separator:a22b8e4fec0508102ba4a76bb9bb1db70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56b59e5bdad20bd7c2dd26e202c088d5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a56b59e5bdad20bd7c2dd26e202c088d5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gen_activity_user_logout_query</b> ($empID)</td></tr>
<tr class="separator:a56b59e5bdad20bd7c2dd26e202c088d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c26fb9e2ca4c0bc60cf7547e0d9812"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a99c26fb9e2ca4c0bc60cf7547e0d9812"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gen_activity_treat_new_rec_query</b> ($empID, $treatID)</td></tr>
<tr class="separator:a99c26fb9e2ca4c0bc60cf7547e0d9812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac3a188ab6499996d203b8252fe0e68"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abac3a188ab6499996d203b8252fe0e68"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>gen_activity_treat_remove_rec_query</b> ($empID, $treatID)</td></tr>
<tr class="separator:abac3a188ab6499996d203b8252fe0e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles updating the ACTIVITY_LOG table. When a user performs an 'activity' worth logging, the table is updated with the ID of the user, timestamp, and an id of the record that the user changed, deleted, or created. See the function description for update_activity_log for activities that get logged. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3bb79b6acd51d8001ecfd557799c83aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update_activity_log </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$activityType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$empID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$recID</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the activity logs. Activity logs include:</p>
<p>PrimaryNew PrimaryEdit AllergyEdit AllergyNew UserLogin UserLogout TreatmentNew TreatmentRemove </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[string]</td><td>$activityType See list above </td></tr>
    <tr><td class="paramname">[int]</td><td>$empID The id of the user who performed the logged activity </td></tr>
    <tr><td class="paramname">[int]</td><td>$recID If the activity includes updating, creating, or deleting a record, the id of the record must be supplied. For example, PrimaryNew activityType would require the primary key (i.e. PatientID) from the newly created record in the PATIENT table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[int/string] Returns zero if the activityType is not recognized. Returns 'failed' if the actual query fails to insert the log. Otherwise, returns the last Activity_LOG ID (i.e. the last inserted row's id). </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 2 2015 21:27:40 for Patient Care System by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
