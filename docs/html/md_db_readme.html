<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Patient Care System: Database Folder</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Patient Care System
   </div>
   <div id="projectbrief">CPSC4900 Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Database Folder </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Include</h2>
<ol type="1">
<li>Keep copies of the script needed to generate the database in "db_install_scripts"</li>
<li>Keep test scripts in "db_test"</li>
<li>Keep pics of the ERD in "db_model"</li>
<li>Keep a test TODO list in "db_test"</li>
<li>Keep the mysql workbench project in "db_model"</li>
</ol>
<h2>General Note</h2>
<p>See db_install_scripts to install the pcs_db locally</p>
<p>I am by no means a database tester, so if you find a more elegant way to handle testing, go for it. Below is just a suggested method. In any event, we need to document functional queries to the database AND have proof that they work. The following is just a suggestion.</p>
<h2>Test Scripts</h2>
<p>Test scripts need to include the commands used to access the database. The test script should also include the user type that is used to log in to the database. These test scripts should be direct MySQL queries, testable in the mysql command prompt. For example: a test case needed is to test if the AR user can retrieve all appointments (by time and by patientID) that have already been made. So, the script should be something similar to the one below:</p>
<p>``` // Note: This assumes that mysql has been invoked at the command prompt // (i.e. shell&gt; mysql) // Also, I am using $ to represent the command line, and PCS as the database name.</p>
<p>$ mysql &ndash;host=localhost &ndash;user=AR &ndash;password=arpass PCS</p>
<p>// Test Case: get appointments by time and the patientID of the patient // returns a table of the appointments in order of time SELECT Date, Time, PatientID FROM APPOINTMENT ORDER BY Date DESC, Time DESC</p>
<p>```</p>
<h3>Saving test results to a file for comparing expected results</h3>
<p>To save the output of a mysql query to a file, simply use the <em>INTO OUTFILE</em> command. By default, mysql uses tab separators. We should change this to comma separated (makes it easier to work with in an excel program). Reusing the Query test above, it would look like this:</p>
<p>``` SELECT Date, Time, PatientID FROM APPOINTMENT ORDER BY Date DESC, Time DESC INTO OUTFILE '/tmp/test_ar_appointment_retrieve.csv' FIELDS TERMINATED BY ',' ENCLOSED BY '"' LINES TERMINATED BY '<br/>
' ``` WARNING: the output file must not exist!!! So, each test case must create a new file. Label each file so it makes sense like above.</p>
<p>As for where to store the file??? It will be different for all of us, cause if you use relative paths it will be different depending on the OS being used. So, I would recommend () just storing in a folder called test_scripts under <b>THIS</b> folder. Then, Paul and I can adjust accordingly.</p>
<h3>One Master Script</h3>
<p>After each individual test script proves to be working as expected, add it to a "Master Test Script". This script should be able to run all the test cases at once. This way, when we get the database as somewhat expected, we can run the master script after any changes made to the database and the script should point out any errors. </p>
<hr/>
 <h2>Test TODO</h2>
<h3>Description</h3>
<p>List individual test cases that need to be tested here.</p>
<h3>Test Cases</h3>
<ol type="1">
<li><hr/>
 <h2>Login to the database:</h2>
</li>
</ol>
<p>We need 7 users right now to be able to login to the database. Use the following:</p>
<table class="doxtable">
<tr>
<th>username </th><th>password  </th></tr>
<tr>
<td>AR </td><td>arpass </td></tr>
<tr>
<td>EM </td><td>empass </td></tr>
<tr>
<td>Doctor </td><td>docpass </td></tr>
<tr>
<td>Nurse </td><td>nursepass </td></tr>
<tr>
<td>MRS </td><td>mrspass </td></tr>
<tr>
<td>Master </td><td>masterpass </td></tr>
<tr>
<td>Login </td><td>loginpass </td></tr>
</table>
<h3>User Priveleges: To be completed !!!</h3>
<p>The following list the privileges each user type will need. Note I am using r for read and w for write, and by <em>resource</em> I mean the table(s) in which each user should have access to.</p>
<ol type="1">
<li>Master: will have global permissions (much like root) on the database. TESTING PURPOSES ONLY (via php and javascript). This user will be removed at deployment</li>
<li>Login: Login user is used at initial login to check username and password. ONLY LOGIN USER SHOULD HAVE ACCESS TO THE LOGIN TABLE !!!</li>
</ol>
<table class="doxtable">
<tr>
<th>privilege </th><th>resource  </th></tr>
<tr>
<td>r </td><td>LOGIN </td></tr>
<tr>
<td>r </td><td>EMPLOYEE </td></tr>
</table>
<ol type="1">
<li>AR</li>
</ol>
<table class="doxtable">
<tr>
<th>privilege </th><th>resource  </th></tr>
<tr>
<td>wr </td><td>APPOINTMENT </td></tr>
<tr>
<td>wr </td><td>PATIENT </td></tr>
<tr>
<td>wr </td><td>ADDRESS </td></tr>
<tr>
<td>r </td><td>CLINIC </td></tr>
<tr>
<td>r </td><td>EMPLOYEE </td></tr>
</table>
<ol type="1">
<li>EM - Will Need to think about this one BUT, only read permissions !</li>
</ol>
<p>privilege | resource -------&mdash;|------&mdash;</p>
<ol type="1">
<li>Doctor</li>
</ol>
<table class="doxtable">
<tr>
<th>privilege </th><th>resource  </th></tr>
<tr>
<td>rw </td><td>APPOINTMENT </td></tr>
<tr>
<td>rw </td><td>MEDICATIONS </td></tr>
<tr>
<td>rw </td><td>TEATEMENT </td></tr>
<tr>
<td>rw </td><td>MED_RECORD </td></tr>
<tr>
<td>rw </td><td>ALLERGY </td></tr>
<tr>
<td>rw </td><td>SECTIONED </td></tr>
<tr>
<td>r </td><td>PATIENT </td></tr>
<tr>
<td>r </td><td>RX </td></tr>
<tr>
<td>r </td><td>CLINIC </td></tr>
<tr>
<td>r </td><td>EMPLOYEE </td></tr>
</table>
<ol type="1">
<li>Nurse</li>
</ol>
<p>privilege | resource -------&mdash;|------&mdash;</p>
<ol type="1">
<li>MRS</li>
</ol>
<p>privilege | resource -------&mdash;|------&mdash; </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 2 2015 21:27:40 for Patient Care System by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
